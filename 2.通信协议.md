<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*  

- [Redis Protocol specification](#redis-protocol-specification)
- [示例](#%E7%A4%BA%E4%BE%8B)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
  
# Redis Protocol specification  
官方文档：https://redis.io/topics/protocol  
  
Redis的作者认为数据库系统的瓶颈一般不在于网络流量，而是数据库自身内部逻辑处理上。所以即使Redis使用了浪费流量的文本协议，依然可以取得极高的访问性能。  
Redis将所有数据都放在内存，用一个单线程对外提供服务，单个节点在跑满一个CPU核心的情况下可以达到了10w/s的超高 QPS。  
  
RESP 是 Redis 序列化协议的简写。它是一种直观的文本协议，优势在于实现异常简单，解析性能极好。  
  
Redis 协议将传输的结构数据分为`5`种最小单元类型，单元结束时统一加上回车换行符号`\r\n`。  
  
- 单行字符串：以`+`符号开头  
  单行字符串 hello world  
  +hello world\r\n
  
- 多行字符串：以`$`符号开头，后跟字符串的长度
  多行字符串 hello world  
  $11\r\nhello world\r\n
  
- 整数值：以`:`符号开头，后跟整数的字符串形式  
  1024
  :1024\r\n
  
- 错误消息：以`-`符号开头  
  参数类型错误
  WRONGTYPE Operation against a key holding the wrong kind of value
  
- 数组: 以`*`符号开头，后跟数组的长度
  [1,2,3]
  *3\r\n:1\r\n:2\r\n:3\r\n
  
- NULL 用多行字符串表示，但长度要填成-1
  $-1\r\n
  
- 空串 用多行字符串表示，长度填 0。 
 $0\r\n\r\n （注意这里有两个\r\n。为什么是两个? 因为两个\r\n 之间,隔的是空串。）

# 示例


